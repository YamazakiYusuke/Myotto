<%# 入力エラー表示 %>
<% if @user.errors.any? %>
  <li id="error_explanation">
    <h2><%= pluralize(@user.errors.count, "error") %> Reject save</h2>
    <ul>
    <% @user.errors.full_messages.each do |message| %>
      <li><%= message %></li>
    <% end %>
    </ul>
  </li>
<% end %>

<%# 入力フォーム %>
<div class="signup-form mt-5 offset-lg-4 col-lg-4">
  <%= form_with(model: @user, local: true) do |f| %>
    <h2>Sign Up</h2>
    <p>It's free and only takes a minute.</p>
    <hr>
    <div class="form-group">
      <label>Username</label>
      <%= f.text_field :name, class: "form-control" %>
    </div>

    <%= f.fields_for :user_locale_statuses do |form| %>
      <div class="form-group">
        <%= form.label "Navive" %> 
        <%= form.collection_select(:locale_id, Locale.all, :id, :name, include_blank: true, class: "form-control") %>
      </div>

      <div class="form-group">
        <%= form.label "Level" %> 
        <%= form.select(:wanted_level, [['Beginner'], ['Elementary'], ['Intermediate'], ['Advanced'], ['Proficient']], include_blank: true, class: "form-control") %>
      </div> 
      <%= form.hidden_field :is_native, value: 'true' %>
    <% end %>

    <%= f.fields_for :user_locale_statuses do |form| %>
      <div class="form-group">
        <%= form.label "Learning" %> 
        <%= form.collection_select(:locale_id, Locale.all, :id, :name, include_blank: true, class: "form-control") %>
      </div>
      
      <div class="form-group">
        <%= form.label "Level" %> 
        <%= form.select(:wanted_level, [['Beginner'], ['Elementary'], ['Intermediate'], ['Advanced'], ['Proficient']], include_blank: true, class: "form-control") %>
      </div> 
      <%= form.hidden_field :is_wanted, value: 'true' %>
    <% end %>

    <div class="form-group">
      <label>Email Address</label>
      <%= f.email_field :email, class: "form-control" %>
    </div>
    <div class="form-group">
      <label>Password</label>
      <%= f.password_field :password, class: "form-control" %>
    </div>
    <div class="form-group">
      <label>Confirm Password</label>
      <%= f.password_field :password_confirmation, class: "form-control" %>
    </div>
    <div class="form-group">
      <%= f.submit "Sign Up", class: "btn btn-primary btn-block btn-lg" %>
    </div>
  <% end %>
  <div class="text-center">Already have an account? <%= link_to('Login here', new_session_path) %></div>
</div>

